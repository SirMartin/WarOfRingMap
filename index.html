<html>

<head>
    <link rel="stylesheet" href="content/site.css" type="text/css">

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="scripts/knockout-latest.js"></script>
    <script src="scripts/lodash.min.js"></script>
    <script src="typescript/Controllers/mapController.js"></script>
    <script src="typescript/Models/regionModels.js"></script>
    <script src="typescript/start.js"></script>

    <title>War of the Ring Interactive Map</title>
</head>

<body>
    <div>
        <a href="#" data-bind="visible: selectedPath() != '', click: function() { reset(); return false; }">Reset</a>
    </div>

    <div class="flag-container">
        <a href="#" data-bind="click: function() {setLanguage('es');return false;}"><img class="flag" src="images/es.svg" /></a>
        <a href="#" data-bind="click: function() {setLanguage('en');return false;}"><img class="flag" src="images/us.svg" /></a>
    </div>

    <div class="map">
        <img class="image clipped" data-bind="attr: {src: imageUrl}, style: { clipPath: selectedPath }" />
        <img class="image darker" data-bind="attr: {src: imageUrl}" />
    </div>

    <div class="regions">
        <div>
            <input type="text" class="search-field" data-bind="textInput: searchText, attr: { placeholder: searchPlaceholderText }">
            <a href="#" data-bind="event: { mouseover: enableHelp, mouseout: disableHelp }"><img class="help-image" /></a>
            <div class="help-popup" data-bind="visible: isHelpPopupVisible">
                <ul>
                    <li>
                        All the images of the game, names belongs to his creators and owners.
                        <ul>
                            <li>Designers: Roberto Di Meglio, Marco Maggi, Francesco Nepitello</li>
                            <li>Artists: John Howe, Fabio Maiorana</li>
                            <li>Spanish Version: <a href="http://devir.es/">Devir Iberia</a></li>
                            <li>English Version: <a href="http://www.aresgames.eu/">Ares Games</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://www.freepik.es/fotos-vectores-gratis/fondo">Background photo created by
                            jannoon028 - www.freepik.es</a>
                    </li>
                    <li>
                        Info icon made by <a href="https://www.flaticon.com/authors/picol" title="Picol">Picol</a> from
                        <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a> is licensed by <a
                            href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC
                            3.0 BY</a>
                    </li>
                    <li>
                        Flag images by <a href="https://github.com/lipis/flag-icon-css">flag-icon-css</a>
                    </li>
                </ul>
            </div>
        </div>
        <div>
            <ul data-bind="foreach: regions">
                <!-- ko if: regions().length > 0 -->
                <li>
                    <a href="#" data-bind="click: function() {$parent.collapseRegion($data);return false;}"><span class="region-name"
                            data-bind="text: name, style: { color: color }"></span></a>
                    <ul data-bind="foreach: regions, visible: !isCollapsed()">
                        <li>
                            <a href="#" data-bind="click: function() {$parents[1].showRegion($data);return false;}"><span
                                    data-bind="text: name;"></span></a>
                            <img class="fortification" src="images/fortification.png" data-bind="visible: isFortification" />
                            <img class="town" src="images/shadows_town.png" data-bind="visible: isTown && $parent.isShadows" />
                            <img class="town" src="images/shadows_city.png" data-bind="visible: isCity && $parent.isShadows" />
                            <img class="city" src="images/shadows_stronghold.png" data-bind="visible: isStronghold && $parent.isShadows" />
                            <img class="city" src="images/free_town.png" data-bind="visible: isTown && !$parent.isShadows()" />
                            <img class="stronghold" src="images/free_city.png" data-bind="visible: isCity && !$parent.isShadows()" />
                            <img class="stronghold" src="images/free_stronghold.png" data-bind="visible: isStronghold && !$parent.isShadows()" />
                        </li>
                    </ul>
                </li>
                <!-- /ko -->
            </ul>
        </div>
    </div>
    <script type="text/javascript">
        new WarOfTheRingMap.Start();
    </script>
</body>

</html>

<div>Icons made by <a href="https://www.flaticon.com/authors/picol" title="Picol">Picol</a> from <a href="https://www.flaticon.com/"
        title="Flaticon">www.flaticon.com</a> is licensed by <a href="http://creativecommons.org/licenses/by/3.0/"
        title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a></div>